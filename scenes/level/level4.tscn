[gd_scene load_steps=18 format=3 uid="uid://da2f8o856lqew"]

[ext_resource type="Script" uid="uid://bmxapiuq18xom" path="res://scripts/Scene/level_base.gd" id="1_4lbx7"]
[ext_resource type="PackedScene" path="res://scenes/3D/canvas_layer_crt.tscn" id="2_16ykl"]
[ext_resource type="PackedScene" uid="uid://duks7ctdp2rg6" path="res://scenes/3D/path_polygon.tscn" id="3_njhdo"]
[ext_resource type="PackedScene" uid="uid://ngf71gejgjys" path="res://scenes/prototype/p1.tscn" id="4_pjvq8"]
[ext_resource type="PackedScene" uid="uid://cmj1qnrayspc8" path="res://player/Monster/Closet.tscn" id="15_fubiv"]
[ext_resource type="PackedScene" uid="uid://px33mjbxlxid" path="res://player/Monster/Draw.tscn" id="15_xha88"]
[ext_resource type="PackedScene" uid="uid://bw0l0xdq8l3sh" path="res://player/Obstacle/Light.tscn" id="18_qwk53"]
[ext_resource type="Script" uid="uid://3s3uube6r4tx" path="res://scripts/GamePlay/Children.gd" id="23_3p2pj"]
[ext_resource type="Script" uid="uid://d28dtlp7684g0" path="res://scripts/GamePlay/GamePlay.gd" id="24_6u2ve"]
[ext_resource type="PackedScene" uid="uid://cmn5u610ah61f" path="res://scenes/game_scene/hud/main_level_hud.tscn" id="25_maq55"]
[ext_resource type="PackedScene" uid="uid://bmlppv0vwywit" path="res://scenes/3D/book.tscn" id="26_e472f"]
[ext_resource type="Script" uid="uid://dhj583cmm8uaw" path="res://scenes/level/level_manager.gd" id="26_wl44m"]
[ext_resource type="PackedScene" uid="uid://dolm7js3b1amk" path="res://player/Monster/Watcher.tscn" id="27_16ykl"]
[ext_resource type="PackedScene" path="res://scenes/3D/canvas_layer_edge_change.tscn" id="27_dfykx"]
[ext_resource type="PackedScene" uid="uid://b50huuhx2kvma" path="res://player/child_new.tscn" id="28_fvvi0"]

[sub_resource type="Curve3D" id="Curve3D_6u2ve"]
bake_interval = 0.01
_data = {
"points": PackedVector3Array(0.04, 0, 0.073, -0.021, 0, 0.038, -0.677631, 0, 0.461109, 0, 0, 0, 0, 0, 0, -1.37654, 0, 1.30486, 0, 0, 0, 0, 0, 0, -2.4703, 0, 1.46875, 0, 0, 0, 0, 0, 0, -2.92133, 0, 0.449352, 0, 0, 0, 0, 0, 0, -4.39688, 0, 0.931828, 0, 0, 0, 0, 0, 0, -4.90393, 0.345717, 1.83),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0)
}
point_count = 6

[sub_resource type="Curve3D" id="Curve3D_maq55"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -1.64443, -0.326949, 0.296443, 0, 0, 0, 0, 0, 0, -2.20754, -1.29388, -0.192087, 0, 0, 0, 0, 0, 0, -3.3216, -3.32611, -1.27616, 0, 0, 0, 0, 0, 0, -3.586, -2.59563, -0.157603, 0, 0, 0, 0, 0, 0, -5.16821, -3.32668, 0.35496),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5

[node name="Level4" type="Node3D" groups=["LevelGroup"]]
script = ExtResource("1_4lbx7")
levelIndex = 4
metadata/_custom_type_script = "uid://bmxapiuq18xom"

[node name="CanvasLayer_CRT" parent="." instance=ExtResource("2_16ykl")]
visible = false

[node name="Path3D" type="Path3D" parent="."]
transform = Transform3D(0.999999, 0, -5.96046e-08, 0, 1, 0, 5.96046e-08, 0, 0.999999, -4.40176, 8.50517, 3.87784)
curve = SubResource("Curve3D_6u2ve")

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D"]
transform = Transform3D(-0.875237, 0, 0.483684, 0, 0.99999, 0, -0.483684, 0, -0.875237, -0.677631, 0, 0.461109)
loop = false

[node name="PathPolygon" parent="Path3D" instance=ExtResource("3_njhdo")]
path_node = NodePath("..")

[node name="p1" parent="." instance=ExtResource("4_pjvq8")]

[node name="Lamp" parent="." instance=ExtResource("18_qwk53")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.59478, 8.28021, 4.63117)

[node name="Children" type="Node" parent="."]
script = ExtResource("23_3p2pj")

[node name="GamePlay" type="Node" parent="."]
script = ExtResource("24_6u2ve")

[node name="Timer" type="Timer" parent="."]

[node name="MainLevelHud" parent="." instance=ExtResource("25_maq55")]

[node name="LevelManager" type="Node" parent="."]
script = ExtResource("26_wl44m")

[node name="StartCountDown" type="Timer" parent="LevelManager"]
one_shot = true

[node name="CanvasLayer_EdgeChange" parent="." instance=ExtResource("27_dfykx")]
visible = false

[node name="Child2" parent="." instance=ExtResource("28_fvvi0")]
transform = Transform3D(0.998265, 0.00108491, 0.058861, 0, 0.99983, -0.0184296, -0.0588706, 0.0183977, 0.998096, -9.89706, 8.42125, 5.72153)
yaw_offset = 180
speed = 1.25
back_speed = 15.0
jump_velocity = 5
index = 0
enable_jump = false
ignore_gravity = true

[node name="Path3D2" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.96652, 12.1672, 5.68698)
curve = SubResource("Curve3D_maq55")

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D2"]
transform = Transform3D(0.0816028, -0.48462, 0.870902, -0.684516, 0.607863, 0.402395, -0.724405, -0.628983, -0.282132, -4.59401, -3.06137, 0.168946)
progress = 6.29784
loop = false

[node name="PathPolygon" parent="Path3D2" instance=ExtResource("3_njhdo")]
path_node = NodePath("..")

[node name="Watcher" parent="." node_paths=PackedStringArray("path") groups=["PlayerGroup"] instance=ExtResource("27_16ykl")]
transform = Transform3D(-0.891287, -0.373247, 0.257476, -0.358584, 0.927732, 0.103588, -0.277533, 0, -0.960716, -6.56094, 12.0191, 5.53867)
index = 3
path = NodePath("../Path3D2/PathFollow3D")
ignore_gravity = true

[node name="Book" parent="." node_paths=PackedStringArray("path") groups=["PlayerGroup"] instance=ExtResource("26_e472f")]
transform = Transform3D(0.452559, 0, -0.891734, 0, 1, 0, 0.891734, 0, 0.452559, -5.08942, 8.66975, 4.54606)
index = 1
path = NodePath("../Path3D/PathFollow3D")

[node name="Closet" parent="." groups=["PlayerGroup"] instance=ExtResource("15_fubiv")]
transform = Transform3D(0.583541, 0, 0.812084, 0, 1, 0, -0.812084, 0, 0.583541, -7.06069, 8.20045, 6.58855)
index = 2

[node name="PathFollow3D" parent="Closet/Path3D" index="1"]
transform = Transform3D(-0.865121, -0.0448874, -0.499551, -0.122951, 0.984576, 0.124456, 0.486261, 0.169089, -0.857297, 2.14733, -0.0488777, 0.402416)

[node name="Doll" parent="Closet/Path3D/PathFollow3D" index="0"]
transform = Transform3D(-2.81328, -0.620118, -0.83721, -0.808939, 2.81935, 0.630004, 0.656569, 0.816543, -2.81108, -0.0229535, -0.637203, 1.24145)

[node name="Camera3D" parent="Closet" index="4"]
transform = Transform3D(-0.281633, -0.162535, 0.945656, 0.0218297, 0.984208, 0.175662, -0.959274, 0.0701157, -0.273638, 2.94304, 1.82978, -1.04111)

[node name="Draw" parent="." node_paths=PackedStringArray("lamp") instance=ExtResource("15_xha88")]
transform = Transform3D(-0.197615, 0, -0.0307972, 0, 0.2, 0, 0.0307972, 0, -0.197615, -8.67402, 9.38019, 4.64146)
lamp = NodePath("../Lamp")
index = 4

[node name="Camera3D" parent="Draw" index="2"]
transform = Transform3D(3.12178, -0.318046, -3.89273, 1.0569, 4.86626, 0.449996, 3.75998, -1.1038, 3.1055, -2.76561, 1.30037, 2.88965)
fov = 40.0

[editable path="Closet"]
[editable path="Draw"]
